<!-- <p>summary works!</p> -->
<danger *ngIf="this.rc_false_status "  [msg]="res_msg"></danger>
  <sucess *ngIf="this.rc_status"  [msg]="this.res_msg"></sucess>
<div>
  <div [formGroup]="course_filter" class="inner_tab_filter">
    <select
      class="theme_select col-m-100"
      formControlName="user_selected"
      (change)="onSelectStudent()"
    >
      <option value="null" selected>Select Student Name</option>

      <option
        *ngFor="let data of   sortedItems()"
        [value]="data.id"
      >
        {{ data.user_fullname }} | ({{ data.course_name }})
      </option>
    </select>
    <!-- 
    <select
      class="theme_select col-m-100"
      formControlName="course_level_id"
      (change)="onCourseChange()"
    >
      <option value="">Select Course Name</option>
      <option
        *ngFor="let datas of this.subject_uniqs"
        [value]="datas.course_name"
      >
        {{ datas.course_name }}
      </option>
    </select> -->
    <!-- 
    <select class="theme_select col-m-100" name="level"  formControlName="batch_id">
      <option value="">Level</option>
      <option *ngFor="let data of this.subject_uniq" [value]="data.batch_id">
        {{ data.level }}
      </option>
    </select> -->

    <!-- <button class="button_primary">
      Apply Filter
    </button> -->
  </div>
</div>

<div class="module_section">
  <div class="inner_module_section">
    <ng-container *ngFor="let item of this.scheduleList">
      <div class="module_cols">
        <div class="bxx">
          <h2 class="boxx-txt">{{ item.batch_code }}</h2>
          <h2 class="boxx-txt"> #{{ item.class_no }}</h2>
      </div>
   
        <h2 class="module_subheading date-time">
          {{ item.start_time | date : "d MMM y, HH:mm a" }}
        </h2>
        <a class="view-details" (click)="details_popup(item.id)"
          >View Details >></a
        >
        <!-- this.scheduleList?.data?.length -->
      </div>
      <div class="popup_bg_black" *ngIf="this.show_active == item.id"></div>
      <div class="new_popup_box" *ngIf="this.show_active == item.id">
        <div
          class="details-popup"
          [attr.id]="'box-' + item.id"
          *ngIf="this.scheduleList.length"
        >
          <div class="back-popup">
            <div class="popupp" id="poppup">
              <button class="close_msg_popup" (click)="close_popups()">
                <i class="fa-solid fa-xmark"></i>
              </button>

              <ng-container>
                <div class="row for_summary_tab_content">
                  <div class="row textarea_cont">
                    <div class="col-50">
                      <div class="Home-work">
                        <h2 class="home-work-text">Homework:</h2>
                      </div>
                      <form
                        [formGroup]="usertype"
                        (ngSubmit)="Ussermsg(item.id, usertype.value)"
                      >
                        <textarea
                          type="text"
                          formControlName="home_work"
                          ngModel="{{ item.home_work }}"
                          class="theme_textarea textt-area"
                          placeholder=""
                          [readonly]="!!item.home_work"
                        ></textarea>
                        <button
                          *ngIf="!item.home_work"
                          class="msg-submit"
                          [disabled]="usertype.invalid"
                        >
                          Submit
                        </button>
                      </form>
                 
                    </div>
                    
                    <div class="col-50">
                      <div class="Home-work">
                        <h2 class="home-work-text">Teacher's Notes:</h2>
                      </div>

                      <form
                        [formGroup]="usertypedata"
                        (ngSubmit)="Ussermsgdata(item.id, usertypedata.value)"
                        class="tp-data"
                      >
                        <textarea
                          type="text"
                          class="theme_textarea textt-area"
                          ngModel="{{item.teacher_note}}"
                          placeholder=""
                          formControlName="teacher_note"
                          [readonly]="!!item.teacher_note"
                        ></textarea>
                        <button
                          class="msg-submit tp-btn"
                          [disabled]="usertypedata.invalid"
                          *ngIf="!item.teacher_note"
                        >
                          Submit
                        </button>
                      </form>
                    </div>
                   
                  </div>

                  <div class="extra-things">
                    <div class="extra-texts">
                      <li><b>Class No:</b> {{ item.class_no }}</li>
                      <li><b>Student name:</b> {{ item.students }}</li>
                      <li><b>Batch No:</b> {{ item.batch_code }}</li>
                      <li><b>Schedule Class Time:</b> {{ item.start_time | date : "d MMM y, HH:mm a" }}</li>
                     
                      <div *ngIf="item.status == 'NOT_STARTED'">
                        <h4 class="status_position">Class Status: Scheduled</h4>
                      </div>
                      <div *ngIf="item.status == 'STARTED'">
                        <h4 class="status_position">Class Status: Scheduled</h4>
                      </div>
                      <div *ngIf="item.status == 'COMPLETED'">
                        <h4 class="status_position">Class Status: Completed</h4>
                      </div>
                      <div class="rescheduled-class-data" *ngIf="item.status == 'RESCHEDULED'">
                        <h4 class="status_position">Class Status: Rescheduled</h4>

                        <li><b>Class Reschedule Date:</b> {{ item.rescheduled_date  | date : "d MMM y, HH:mm a" }}</li>
                        <li><b>Reschedule By:</b> {{ item.rescheduled_by_name }}</li>
                      </div>
                        </div>
                  
                      
                    
              
                  
                    <div class="page_questions">
                      <button class="question-mark"   (click)="redirectToSupport(item)">
                        <span  class="for-hover">
                          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
                            <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.09 8.00002C8.3251 7.33169 8.78915 6.76813 9.39995 6.40915C10.0108 6.05018 10.7289 5.91896 11.4272 6.03873C12.1255 6.15851 12.7588 6.52154 13.2151 7.06355C13.6713 7.60555 13.9211 8.29154 13.92 9.00002C13.92 11 10.92 12 10.92 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11 16H11.01" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                        </span>
                        <div class="question_tooltip">
                          <span> Support </span>
                        </div>
                      </button>
                    </div>

                  </div>
               
                  <!-- <div class="center_text">
                    <h4>{{ this.res_msg }}</h4>
                  </div> -->
                
                </div>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>

<!--  new pop up design -->

<!-- <div class="details-popup"   [attr.id]="'box-' + item.id" *ngIf="this.scheduleList?.data?.length">
  <div class="back-popup">
   <div class="popupp" id="poppup">

     <button class="close_msg_popup" (click)="close_popups()">
       <i class="fa-solid fa-xmark"></i>
     </button>

 <ng-container >
   <div class="row for_summary_tab_content">

     <div class="row textarea_cont">
       <div class="col-50">
         <div class="Home-work">
           <h2 class="home-work-text">Homework:</h2>
         </div>
        <form [formGroup]="usertype" (ngSubmit)="Ussermsg(item.id,usertype.value)">
         <textarea type="text" formControlName="home_work" class="theme_textarea  textt-area" placeholder=""></textarea>
         <button class="msg-submit" [disabled]="usertype.invalid">Submit</button>
        </form>
       </div>
       <div class="col-50">
         <div class="Home-work">
           <h2 class="home-work-text">Teacher's Notes:</h2>
         </div>
         <form [formGroup]="usertypedata" (ngSubmit)="Ussermsgdata(item.id,usertypedata.value)" class="tp-data">
         <textarea type="text" class="theme_textarea  textt-area" placeholder="" formControlName="teacher_note"></textarea>
         <button class="msg-submit tp-btn" [disabled]="usertypedata.invalid">Submit</button>
         </form>
       </div>
     </div>
   </div>
 </ng-container>


   </div>
  </div>

 </div> -->

<!--  previous design  -->

<!-- <ng-container *ngFor="let item of this.scheduleList?.data">
  <div class="row for_summary_tab_content">
    <p class="col-100 tab_heading_name  hd-name">{{ item.module_name }}</p>
    <div class="row">
      <div class="col-50 col-m-100">
        <p class="paragraph_text">
          Scheduled Class: {{ item.start_time |  date:'d MMM y, HH:mm a' }}
        </p>

      </div>
      <div class="col-50 col-m-100">

      </div>
    </div>
    <div class="row textarea_cont">
      <div class="col-50">
       <form [formGroup]="usertype" (ngSubmit)="Ussermsg(item.id,usertype.value)">
        <textarea type="text" formControlName="home_work" class="theme_textarea  textt-area" placeholder=""></textarea>
        <button class="msg-submit" [disabled]="usertype.invalid">Submit</button>
       </form>
      </div>
      <div class="col-50">
        <form [formGroup]="usertypedata" (ngSubmit)="Ussermsgdata(item.id,usertypedata.value)" class="tp-data">
        <textarea type="text" class="theme_textarea  textt-area" placeholder="" formControlName="teacher_note"></textarea>
        <button class="msg-submit tp-btn" [disabled]="usertypedata.invalid">Submit</button>
        </form>
      </div>
    </div>


        <div class="col-50 col-m-100">
          <ng-container *ngIf="item.status=='RESCHEDULED'">
       <p class="paragraph_text">Rescheduled Date: {{ item.rescheduled_date  |  date:'medium' }}</p>
       <p class="paragraph_text">
         Rescheduled By: {{ item.rescheduled_by }}
       </p>
      </ng-container>
       <p class="paragraph_text">
        Status: {{ item.status }}
      </p>
      <h2>{{this.res_msg}}</h2>
        </div>
  </div>
</ng-container> -->
